<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Spinning Klein Bottle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="style.css" rel="stylesheet" type="text/css">
<script src="jquery-1.6.4.js"></script>
<script src="underscore.js"></script>

<script src="util.js"></script>
<script src="ui.js"></script>
<script src="math_linear.js"></script>
<script src="shapes.js"></script>
<script src="n22d.js"></script>

<style type="text/css">
    html, body {
        height: 100%;
    }
</style>

<script type="text/javascript">
    var n22d, model, ui, linkable; // for debugging

    // like in middle school except with fewer edges and no kissing
    function spinning_bottle() {
        var m = new Model(klein_bottle(20, 60));
        var x_rot = new Rotation(1, 3, Math.PI/2);
        var y_rot = new Rotation(2, 3);
        var auto_rot = new Rotation(3, 4);
        auto_rot.velocity = Math.PI/8;
        var position = new Position(new Vector([0, 0, 0, -8]));
        m.transforms.a = [position, auto_rot, y_rot, x_rot];
        return m;
    }

    $(document).ready(function() {
        ui = new RotationUI($('#ui'));
        linkable = new LinkableUI(ui);
        linkable.load({n: 4});
        model = spinning_bottle();
        model.transforms.a.push(ui.transforms);
        n22d = new N22d($('#n22d'), [model]);
        n22d.animate();
    });
</script>
</head>

<body>
    <div id='n22d' style='min-height: 100%;'></div>
    <div id='ui'></div>
</body>

</html>
